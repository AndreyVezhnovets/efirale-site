/* ===== EF2: стили для каруселей в секциях продуктов (#rec971234641, #rec971240401) ===== */
/* Отдельные классы ef2-* чтобы не конфликтовать с существующей каруселью духов */
:root{
  --ef2-gap:16px;
  --ef2-card-bg:#E8F5E9;
  --ef2-brand:#C8E6C9;
  --ef2-text:#000000;
  --ef2-radius:15px;
  --ef2-shadow:0 2px 12px rgba(0,0,0,.06);
}

.ef2-carousel{
  position:relative;
  margin:20px auto 50px;
  max-width:1140px;
}

.ef2-track{
  display:flex;
  gap:var(--ef2-gap);
  overflow-x:auto;
  overscroll-behavior-x:contain;
  overscroll-behavior-y:auto;
  scroll-snap-type:x mandatory;
  scroll-padding-left:8px;
  padding:8px 8px;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.ef2-track::-webkit-scrollbar{display:none;height:0;}

.ef2-item{
  flex:0 0 calc((100% - 3*var(--ef2-gap)) / 4); /* 4 карточки на десктопе */
  min-width:260px;
  background:var(--ef2-card-bg);
  border-radius:var(--ef2-radius);
  box-shadow:var(--ef2-shadow);
  color:var(--ef2-text);
  scroll-snap-align:start;
  scroll-snap-stop:always;
  overflow:hidden;
}
.ef2-item__img{aspect-ratio:4/5;background:#fff;}
.ef2-item__img img{
  width:100%;height:100%;object-fit:cover;display:block;
}
.ef2-item__body{padding:14px 14px 12px;}
.ef2-item__title{margin:0 0 6px;font-size:16px;line-height:1.25;}
.ef2-item__descr{margin:0 0 10px;font-size:14px;opacity:.85;}
.ef2-item__meta{display:flex;align-items:center;justify-content:space-between;}
.ef2-item__price{font-weight:700;}
.ef2-item__btn{
  display:inline-block;padding:8px 14px;background:var(--ef2-brand);
  color:var(--ef2-text);border-radius:30px;font-weight:600;text-decoration:none;
  transition:transform .15s ease, box-shadow .15s ease;
}
.ef2-item__btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(0,0,0,.10);}
.ef2-item__btn:focus-visible{outline:3px solid var(--ef2-brand);outline-offset:2px;}

.ef2-btn{
  position:absolute;top:50%;transform:translateY(-50%);
  width:36px;height:36px;border-radius:50%;border:1px solid rgba(0,0,0,.12);
  background:#fff;color:var(--ef2-text);display:grid;place-items:center;cursor:pointer;
  box-shadow:0 2px 8px rgba(0,0,0,.08);transition:transform .15s ease, box-shadow .15s ease;z-index:2;
}
.ef2-btn--prev{left:6px;}
.ef2-btn--next{right:6px;}
.ef2-btn:hover{transform:translateY(-50%) scale(1.04);box-shadow:0 6px 16px rgba(0,0,0,.12);}
.ef2-btn:focus-visible{outline:3px solid var(--ef2-brand);outline-offset:2px;}

@media (max-width:1200px){
  .ef2-item{flex-basis:calc((100% - 2*var(--ef2-gap)) / 3);}
}
@media (max-width:980px){
  .ef2-item{flex-basis:calc((100% - var(--ef2-gap)) / 2);}
}
/* Планшеты */
@media (max-width:980px) and (min-width:641px){
  .ef2-carousel{
    margin:25px 0 45px;
    padding:0;
  }
  .ef2-track{
    padding:12px 24px;
    gap:20px;
    scroll-padding-left:24px;
    scroll-padding-right:24px;
  }
  .ef2-item{
    border-radius:18px;
    box-shadow:0 3px 16px rgba(0,0,0,0.06);
  }
}

/* Мобильные устройства */
@media (max-width:640px){
  .ef2-carousel{
    margin:20px 0 40px;
    padding:0;
  }
  .ef2-track{
    padding:12px 0;
    scroll-snap-type:x mandatory;
    justify-content:flex-start;
    gap:16px;
  }
  .ef2-item{
    flex:0 0 calc(100vw - 40px);
    min-width:calc(100vw - 40px);
    max-width:calc(100vw - 40px);
    scroll-snap-align:center;
    margin:0 20px;
    border-radius:20px;
    box-shadow:0 4px 20px rgba(0,0,0,0.08);
    transition:transform 0.2s ease, box-shadow 0.2s ease;
  }
  .ef2-item:first-child{
    margin-left:20px;
  }
  .ef2-item:last-child{
    margin-right:20px;
  }
  .ef2-item:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 30px rgba(0,0,0,0.12);
  }
  .ef2-item__body{
    padding:18px 18px 72px;
  }
  .ef2-item__title{
    font-size:18px;
    line-height:1.3;
    margin-bottom:8px;
  }
  .ef2-item__descr{
    font-size:15px;
    line-height:1.4;
    margin-bottom:12px;
  }
  .ef2-item__btn{
    padding:12px 20px;
    font-size:15px;
    border-radius:25px;
  }
  .ef2-btn{display:none;}
}

/* Очень маленькие экраны */
@media (max-width:400px){
  .ef2-carousel{
    margin:16px 0 32px;
    padding:0;
  }
  .ef2-track{
    padding:12px 0;
    gap:12px;
  }
  .ef2-item{
    flex:0 0 calc(100vw - 32px);
    min-width:calc(100vw - 32px);
    max-width:calc(100vw - 32px);
    margin:0 16px;
    border-radius:16px;
  }
  .ef2-item:first-child{
    margin-left:16px;
  }
  .ef2-item:last-child{
    margin-right:16px;
  }
}
@media (prefers-reduced-motion:reduce){
  .ef2-btn,.ef2-item__btn{transition:none;}
  .ef2-track{scroll-snap-type:x proximity;}
}
